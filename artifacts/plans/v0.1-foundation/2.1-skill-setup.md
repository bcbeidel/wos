---
document_type: plan
description: "Build the setup skill that initializes new projects with structured context and adds domain areas with correct directory structure and discovery artifacts"
last_updated: 2026-02-17
status: complete
related:
  - artifacts/plans/v0.1-foundation/1.1-document-type-models.md
  - artifacts/plans/v0.1-foundation/1.2-discovery-layer.md
  - artifacts/research/v0.1-foundation/2026-02-17-skills-architecture-design.md
---

# Build Setup Skill

## Objective

An `/wos:setup` skill exists that can initialize a new project with structured
context (scaffold directories, create CLAUDE.md with manifest, generate rules
file) and add new domain areas to an existing project (create area directory
with _overview.md, update manifest). After running setup, the project is ready
for content creation via the curate skill.

## Context

- Skills architecture: `artifacts/research/v0.1-foundation/2026-02-17-skills-architecture-design.md` §3.2
- Depends on document type models and discovery layer
- Two workflows: `setup-init` (new project) and `setup-area` (add area)
- Routing: check for `/context/` directory existence (no config file needed)
- Area directory names: lowercase hyphenated (e.g., `python-basics`, `api-design`)
- Skills invoke Python scripts via Bash; Claude interprets results

## Steps

1. Research existing implementations: search for well-starred Claude Code
   plugins, project scaffolding tools, and similar init/setup patterns.
   Look at how other tools handle directory scaffolding, config generation,
   and first-run experiences. Document findings and adapt patterns.

2. Create `skills/setup/SKILL.md` with skill description, conversational
   triggers ("set up", "initialize", "add a new area"), and routing logic
   (`/context/` exists → area workflow, else → init workflow)

3. Create `skills/setup/workflows/setup-init.md`:
   - Ask user for project purpose (brief description for CLAUDE.md header)
   - Ask for initial domain areas (1-3 to start)
   - Run scaffold: create `/context/`, `/artifacts/research/`,
     `/artifacts/plans/`
   - For each area: create `context/{area}/_overview.md` with template
   - Run discovery to generate CLAUDE.md (created from best-practices
     template with `## Context` manifest) and rules file
   - Present summary of what was created

4. Create `skills/setup/workflows/setup-area.md`:
   - Ask user for new area name and description
   - Create `context/{area}/_overview.md` with template
   - Run discovery to update CLAUDE.md manifest
   - Present summary

5. Implement `wos/scaffold.py`:
   - `scaffold_project(root, areas, purpose)` — create full directory
     structure, overview templates for each area
   - `scaffold_area(root, area_name, description)` — create single area
     with overview; normalize area name to lowercase-hyphenated
   - Uses template functions (to be built in Phase 3.1; for now, generate
     minimal valid overview content inline)
   - Never overwrites existing files

6. Create `scripts/run_scaffold.py` — thin CLI entry point with argparse.
   Handle both `python` and `python3` invocations.

7. Write tests in `tests/test_scaffold.py`: scaffold creates expected
   directory structure, scaffold doesn't overwrite existing files, scaffold
   with 2 areas creates 2 overview files, overview files have valid frontmatter

## Verification

- `/wos:setup` on a fresh directory creates the full structure
- CLAUDE.md exists with `## Context` manifest section and markers
- `.claude/rules/wos-context.md` exists
- Each area has an `_overview.md` with valid frontmatter
- Running setup-area on existing project adds area without disturbing existing content
- `python3 -m pytest tests/test_scaffold.py -v` passes
